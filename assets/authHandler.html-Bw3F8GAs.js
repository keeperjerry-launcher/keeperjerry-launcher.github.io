import{_ as p,c as u,b as o,e as c,a as s,w as e,r,o as d,d as n}from"./app-C0i2AJz9.js";const k={};function m(b,a){const i=r("CodeTabs");return d(),u("div",null,[a[28]||(a[28]=o('<h1 id="способы-обработки-сессии" tabindex="-1"><a class="header-anchor" href="#способы-обработки-сессии"><span>Способы обработки сессии</span></a></h1><p>Для управления авторизациями (joinServer, checkServer) и UUID игроков существуют несколько возможных обработчиков:</p><h2 id="официальные-обработчики" tabindex="-1"><a class="header-anchor" href="#официальные-обработчики"><span>Официальные обработчики</span></a></h2><p>Для того, чтобы получить необходимые данные пользователя, <code>LaunchServer</code> берет данные с официальных серверов ниже указанных сервисов. Среди них:</p><ul><li><a href="https://www.minecraft.net/ru-ru" target="_blank" rel="noopener noreferrer">Mojang</a> (Официальный сервис)</li><li><a href="https://minesocial.ru/" target="_blank" rel="noopener noreferrer">MineSocial.RU</a> (Мой сервис эмуляции официального Mojang)</li><li><a href="https://ely.by/" target="_blank" rel="noopener noreferrer">Ely.by</a> (Сервис сайта авторизации + авторизация Mojang)</li></ul><p>Пример конфигурации:</p>',6)),c(i,{data:[{id:"Mojang"},{id:"MineSocial.RU"},{id:"Ely.By"}]},{title0:e(({value:l,isActive:t})=>a[0]||(a[0]=[n("Mojang",-1)])),title1:e(({value:l,isActive:t})=>a[1]||(a[1]=[n("MineSocial.RU",-1)])),title2:e(({value:l,isActive:t})=>a[2]||(a[2]=[n("Ely.By",-1)])),tab0:e(({value:l,isActive:t})=>a[3]||(a[3]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"mojang"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token comment"},"# Конфигурация способа обработки UUID не тебуется")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:t})=>a[4]||(a[4]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"minesocial"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token comment"},"# Конфигурация способа обработки UUID не тебуется")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:t})=>a[5]||(a[5]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"elyby"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token comment"},"# Конфигурация способа обработки UUID не тебуется")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[29]||(a[29]=o('<div class="hint-container tip"><p class="hint-container-title">Смешанная авторизация</p><p>Сайт <code>Ely.by</code> использует смешанную авторизацию (свою и Mojang). Это значит, что зайти можно как с пользователя на сайте <code>Ely.By</code>, так и из лицензии от <code>Mojang</code>. За такое проксирование официальных запросов лицензионных аккаунтов, <code>Ely.By</code> получил плохой рейтинг. Будьте аккуратны!</p></div><h2 id="обработчик-типа-authlib" tabindex="-1"><a class="header-anchor" href="#обработчик-типа-authlib"><span>Обработчик типа authlib</span></a></h2><p>Способ аналогичен официальным сервисам, за исключением того, что можно самому напрямую указывать ссылки на сервисы. Документация: <a href="https://wiki.vg/Protocol_Encryption#Client" target="_blank" rel="noopener noreferrer">joinUrl</a>, <a href="https://wiki.vg/Protocol_Encryption#Server" target="_blank" rel="noopener noreferrer">hasJoinUrl</a></p><p>Пример конфигурации:</p>',4)),c(i,{data:[{id:"Пример"},{id:"Mojang"},{id:"MineSocial.RU"},{id:"Ely.by"}]},{title0:e(({value:l,isActive:t})=>a[6]||(a[6]=[n("Пример",-1)])),title1:e(({value:l,isActive:t})=>a[7]||(a[7]=[n("Mojang",-1)])),title2:e(({value:l,isActive:t})=>a[8]||(a[8]=[n("MineSocial.RU",-1)])),title3:e(({value:l,isActive:t})=>a[9]||(a[9]=[n("Ely.by",-1)])),tab0:e(({value:l,isActive:t})=>a[10]||(a[10]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"authlib"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    joinUrl: "),s("span",{class:"token string"},'"http://example.com/api/join"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("    hasJoinUrl: "),s("span",{class:"token string"},'"http://example.com/api/hasJoined"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:t})=>a[11]||(a[11]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"authlib"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    joinUrl: "),s("span",{class:"token string"},'"https://sessionserver.mojang.com/session/minecraft/join"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("    hasJoinUrl: "),s("span",{class:"token string"},'"https://sessionserver.mojang.com/session/minecraft/hasJoined"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:t})=>a[12]||(a[12]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"authlib"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    joinUrl: "),s("span",{class:"token string"},'"https://sessionserver.minesocial.ru/session/minecraft/join"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("    hasJoinUrl: "),s("span",{class:"token string"},'"https://sessionserver.minesocial.ru/session/minecraft/hasJoined"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab3:e(({value:l,isActive:t})=>a[13]||(a[13]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"authlib"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    joinUrl: "),s("span",{class:"token string"},'"https://authserver.ely.by/session/join"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("    hasJoinUrl: "),s("span",{class:"token string"},'"https://authserver.ely.by/session/hasJoined"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[30]||(a[30]=o(`<h2 id="обработчик-типа-textfile" tabindex="-1"><a class="header-anchor" href="#обработчик-типа-textfile"><span>Обработчик типа textFile</span></a></h2><p>Этот обработчик хранит все данные об авторизациях в текстовом файле, генерирует случайные UUID, но есть опция для генерации UUID из MD5 имени пользователя.</p><p>Пример конфигурации:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">authHandler: <span class="token string">&quot;textFile&quot;</span><span class="token punctuation">;</span></span>
<span class="line">authHandlerConfig: <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment"># Имя файла, в котором будут сохранены данные об авторизациях</span></span>
<span class="line">    fileName: <span class="token string">&quot;authHandler.cfg&quot;</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment"># Использовать генерацию UUID из MD5 имени пользователя</span></span>
<span class="line">    offlineUUIDs: <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="обработчик-типа-binaryfile" tabindex="-1"><a class="header-anchor" href="#обработчик-типа-binaryfile"><span>Обработчик типа binaryFile</span></a></h2><p>Этот обработчик хранит все данные об авторизациях в бинарном файле, в остальном идентичен обработчику textFile.</p><div class="hint-container tip"><p class="hint-container-title">Информация</p><p>Этот обработчик существует для обратной совместимости лаунчера Sashok724. Поэтому можно не брать во внимание данный способ.</p></div><h2 id="обработчик-типа-json" tabindex="-1"><a class="header-anchor" href="#обработчик-типа-json"><span>Обработчик типа json</span></a></h2><p>Этот обработчик хранит все данные об авторизациях в указанной вами базе данных, к которой идет подключение.</p><p>Пример конфигурации:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">authHandler: <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span></span>
<span class="line">authHandlerConfig: <span class="token punctuation">{</span></span>
<span class="line">    url: <span class="token string">&quot;https://myserver.tld/handler.php&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    urlCheckServer: <span class="token string">&quot;https://myserver.tld/CheckServer.php&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    urlUsernameToUUID: <span class="token string">&quot;https://myserver.tld/UsernameToUUID.php&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    urlUUIDToUsername: <span class="token string">&quot;https://myserver.tld/UUIDToUsername.php&quot;</span><span class="token punctuation">;</span></span>
<span class="line">	</span>
<span class="line">    userKeyName: <span class="token string">&quot;login&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    serverIDKeyName: <span class="token string">&quot;serverID&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    uuidKeyName: <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    accessTokenKeyName: <span class="token string">&quot;accessToken&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    responseUserKeyName: <span class="token string">&quot;username&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    responseErrorKeyName: <span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Информация</p><p>Данный способ не описывается в пользу способа Authlib. Если данный способ будет актуален - будет обновлена инструкция по данному способу.</p></div><h2 id="обработчик-типа-sql" tabindex="-1"><a class="header-anchor" href="#обработчик-типа-sql"><span>Обработчик типа SQL</span></a></h2><p>Пример конфигурации:</p>`,14)),c(i,{data:[{id:"MySQL"},{id:"MariaDB"},{id:"MySQL-8"},{id:"PostgreSQL"},{id:"SQLite"}]},{title0:e(({value:l,isActive:t})=>a[14]||(a[14]=[n("MySQL",-1)])),title1:e(({value:l,isActive:t})=>a[15]||(a[15]=[n("MariaDB",-1)])),title2:e(({value:l,isActive:t})=>a[16]||(a[16]=[n("MySQL-8",-1)])),title3:e(({value:l,isActive:t})=>a[17]||(a[17]=[n("PostgreSQL",-1)])),title4:e(({value:l,isActive:t})=>a[18]||(a[18]=[n("SQLite",-1)])),tab0:e(({value:l,isActive:t})=>a[19]||(a[19]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"mysql"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    address: "),s("span",{class:"token string"},'"localhost"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Адрес MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    port: "),s("span",{class:"token number"},"3306"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Порт MySQL-сервера (по умолчанию 3306)")]),n(`
`),s("span",{class:"line"},[n("    username: "),s("span",{class:"token string"},'"root"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Имя пользователя MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    password: "),s("span",{class:"token string"},'"PSP1004"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Пароль пользователя")]),n(`
`),s("span",{class:"line"},[n("    database: "),s("span",{class:"token string"},'"minecraft?serverTimezone=UTC"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    table: "),s("span",{class:"token string"},'"users"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Таблица")]),n(`
`),s("span",{class:"line"},[n("    uuidColumn: "),s("span",{class:"token string"},'"uuid"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с UUID пользователей")]),n(`
`),s("span",{class:"line"},[n("    usernameColumn: "),s("span",{class:"token string"},'"username"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с именами пользователей")]),n(`
`),s("span",{class:"line"},[n("    accessTokenColumn: "),s("span",{class:"token string"},'"accessToken"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с accessToken")]),n(`
`),s("span",{class:"line"},[n("    serverIDColumn: "),s("span",{class:"token string"},'"serverID"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с serverID")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:t})=>a[20]||(a[20]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"mariadb"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    address: "),s("span",{class:"token string"},'"localhost"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Адрес MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    port: "),s("span",{class:"token number"},"3306"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Порт MySQL-сервера (по умолчанию 3306)")]),n(`
`),s("span",{class:"line"},[n("    username: "),s("span",{class:"token string"},'"root"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Имя пользователя MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    password: "),s("span",{class:"token string"},'"PSP1004"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Пароль пользователя")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    table: "),s("span",{class:"token string"},'"users"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Таблица")]),n(`
`),s("span",{class:"line"},[n("    uuidColumn: "),s("span",{class:"token string"},'"uuid"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с UUID пользователей")]),n(`
`),s("span",{class:"line"},[n("    usernameColumn: "),s("span",{class:"token string"},'"username"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с именами пользователей")]),n(`
`),s("span",{class:"line"},[n("    accessTokenColumn: "),s("span",{class:"token string"},'"accessToken"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с accessToken")]),n(`
`),s("span",{class:"line"},[n("    serverIDColumn: "),s("span",{class:"token string"},'"serverID"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с serverID")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:t})=>a[21]||(a[21]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"mysql-8"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    address: "),s("span",{class:"token string"},'"localhost"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Адрес MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    port: "),s("span",{class:"token number"},"3306"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Порт MySQL-сервера (по умолчанию 3306)")]),n(`
`),s("span",{class:"line"},[n("    username: "),s("span",{class:"token string"},'"root"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Имя пользователя MySQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    password: "),s("span",{class:"token string"},'"PSP1004"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Пароль пользователя")]),n(`
`),s("span",{class:"line"},[n("    database: "),s("span",{class:"token string"},'"minecraft"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# База данных")]),n(`
`),s("span",{class:"line"},[n("    timezone: "),s("span",{class:"token string"},'"UTC"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Замена ?serverTimezone")]),n(`
`),s("span",{class:"line"},[n("    useSSL: "),s("span",{class:"token boolean"},"false"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Используется ли защищенное соединение")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    table: "),s("span",{class:"token string"},'"users"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Таблица")]),n(`
`),s("span",{class:"line"},[n("    uuidColumn: "),s("span",{class:"token string"},'"uuid"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с UUID пользователей")]),n(`
`),s("span",{class:"line"},[n("    usernameColumn: "),s("span",{class:"token string"},'"username"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с именами пользователей")]),n(`
`),s("span",{class:"line"},[n("    accessTokenColumn: "),s("span",{class:"token string"},'"accessToken"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с accessToken")]),n(`
`),s("span",{class:"line"},[n("    serverIDColumn: "),s("span",{class:"token string"},'"serverID"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с serverID")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab3:e(({value:l,isActive:t})=>a[22]||(a[22]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"postgresql"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    address: "),s("span",{class:"token string"},'"localhost"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Адрес PostgreSQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    port: "),s("span",{class:"token number"},"5432"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Порт PostgreSQL-сервера (по умолчанию 5432)")]),n(`
`),s("span",{class:"line"},[n("    username: "),s("span",{class:"token string"},'"root"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Имя пользователя PostgreSQL-сервера")]),n(`
`),s("span",{class:"line"},[n("    password: "),s("span",{class:"token string"},'"PSP1004"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Пароль пользователя")]),n(`
`),s("span",{class:"line"},[n("    database: "),s("span",{class:"token string"},'"minecraft"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# База данных")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    table: "),s("span",{class:"token string"},'"users"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Таблица")]),n(`
`),s("span",{class:"line"},[n("    uuidColumn: "),s("span",{class:"token string"},'"uuid"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с UUID пользователей")]),n(`
`),s("span",{class:"line"},[n("    usernameColumn: "),s("span",{class:"token string"},'"username"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с именами пользователей")]),n(`
`),s("span",{class:"line"},[n("    accessTokenColumn: "),s("span",{class:"token string"},'"accessToken"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с accessToken")]),n(`
`),s("span",{class:"line"},[n("    serverIDColumn: "),s("span",{class:"token string"},'"serverID"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с serverID")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab4:e(({value:l,isActive:t})=>a[23]||(a[23]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[s("pre",null,[s("code",{class:"language-bash"},[s("span",{class:"line"},[n("authHandler: "),s("span",{class:"token string"},'"sqlite"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("authHandlerConfig: "),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    table: "),s("span",{class:"token string"},'"test"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Таблица")]),n(`
`),s("span",{class:"line"},[n("    uuidColumn: "),s("span",{class:"token string"},'"uuid"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с UUID пользователей")]),n(`
`),s("span",{class:"line"},[n("    usernameColumn: "),s("span",{class:"token string"},'"username"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с именами пользователей")]),n(`
`),s("span",{class:"line"},[n("    accessTokenColumn: "),s("span",{class:"token string"},'"accessToken"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с accessToken")]),n(`
`),s("span",{class:"line"},[n("    serverIDColumn: "),s("span",{class:"token string"},'"serverID"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Поле с serverID")]),n(`
`),s("span",{class:"line"},[n("    path: "),s("span",{class:"token string"},'"db.db"'),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"# Путь до файла базы данных ")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[31]||(a[31]=s("h2",{id:"создание-таблицы-обработчика",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#создание-таблицы-обработчика"},[s("span",null,"Создание таблицы обработчика")])],-1)),a[32]||(a[32]=s("p",null,"Для того чтобы добавить недостающие поля и сгеренерировать UUID, можно использовать SQL-запрос:",-1)),c(i,{data:[{id:"Пример"},{id:"DLE"}]},{title0:e(({value:l,isActive:t})=>a[24]||(a[24]=[n("Пример",-1)])),title1:e(({value:l,isActive:t})=>a[25]||(a[25]=[n("DLE",-1)])),tab0:e(({value:l,isActive:t})=>a[26]||(a[26]=[s("div",{class:"language-sql line-numbers-mode","data-highlighter":"prismjs","data-ext":"sql"},[s("pre",null,[s("code",{class:"language-sql"},[s("span",{class:"line"},[s("span",{class:"token comment"},"-- Добавляет недостающие поля в таблицу")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ALTER"),n(),s("span",{class:"token keyword"},"TABLE"),n(" users")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" uuid "),s("span",{class:"token keyword"},"CHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"36"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"UNIQUE"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" accessToken "),s("span",{class:"token keyword"},"CHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"32"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" serverID "),s("span",{class:"token keyword"},"VARCHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"41"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"-- Создаёт триггер на генерацию UUID для новых пользователей")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"DELIMITER"),n(),s("span",{class:"token comment"},"//")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"CREATE"),n(),s("span",{class:"token keyword"},"TRIGGER"),n(" setUUID BEFORE "),s("span",{class:"token keyword"},"INSERT"),n(),s("span",{class:"token keyword"},"ON"),n(" users")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"FOR EACH ROW"),n(),s("span",{class:"token keyword"},"BEGIN")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"IF"),n(" NEW"),s("span",{class:"token punctuation"},"."),n("uuid "),s("span",{class:"token operator"},"IS"),n(),s("span",{class:"token boolean"},"NULL"),n(),s("span",{class:"token keyword"},"THEN")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"SET"),n(" NEW"),s("span",{class:"token punctuation"},"."),n("uuid "),s("span",{class:"token operator"},"="),n(" UUID"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"END"),n(),s("span",{class:"token keyword"},"IF"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"END"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"//")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"DELIMITER"),n(),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"-- Генерирует UUID для уже существующих пользователей")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"UPDATE"),n(" users "),s("span",{class:"token keyword"},"SET"),n(" uuid"),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"SELECT"),n(" UUID"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"WHERE"),n(" uuid "),s("span",{class:"token operator"},"IS"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:t})=>a[27]||(a[27]=[s("div",{class:"language-sql line-numbers-mode","data-highlighter":"prismjs","data-ext":"sql"},[s("pre",null,[s("code",{class:"language-sql"},[s("span",{class:"line"},[s("span",{class:"token comment"},"-- Добавляет недостающие поля в таблицу")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ALTER"),n(),s("span",{class:"token keyword"},"TABLE"),n(" dle_users")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" uuid "),s("span",{class:"token keyword"},"CHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"36"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"UNIQUE"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" accessToken "),s("span",{class:"token keyword"},"CHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"32"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"ADD"),n(),s("span",{class:"token keyword"},"COLUMN"),n(" serverID "),s("span",{class:"token keyword"},"VARCHAR"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"41"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"DEFAULT"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"-- Создаёт триггер на генерацию UUID для новых пользователей")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"DELIMITER"),n(),s("span",{class:"token comment"},"//")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"CREATE"),n(),s("span",{class:"token keyword"},"TRIGGER"),n(" setUUID BEFORE "),s("span",{class:"token keyword"},"INSERT"),n(),s("span",{class:"token keyword"},"ON"),n(" dle_users")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"FOR EACH ROW"),n(),s("span",{class:"token keyword"},"BEGIN")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"IF"),n(" NEW"),s("span",{class:"token punctuation"},"."),n("uuid "),s("span",{class:"token operator"},"IS"),n(),s("span",{class:"token boolean"},"NULL"),n(),s("span",{class:"token keyword"},"THEN")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"SET"),n(" NEW"),s("span",{class:"token punctuation"},"."),n("uuid "),s("span",{class:"token operator"},"="),n(" UUID"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"END"),n(),s("span",{class:"token keyword"},"IF"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"END"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"//")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"DELIMITER"),n(),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"-- Генерирует UUID для уже существующих пользователей")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"UPDATE"),n(" dle_users "),s("span",{class:"token keyword"},"SET"),n(" uuid"),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"SELECT"),n(" UUID"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"WHERE"),n(" uuid "),s("span",{class:"token operator"},"IS"),n(),s("span",{class:"token boolean"},"NULL"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1})])}const g=p(k,[["render",m]]),h=JSON.parse('{"path":"/config/authHandler.html","title":"Способы обработки сессии","lang":"ru-RU","frontmatter":{},"git":{"updatedTime":1754382747000,"contributors":[{"name":"KeeperJerry","username":"KeeperJerry","email":"keeperjerry@yandex.ru","commits":1,"url":"https://github.com/KeeperJerry"}],"changelog":[{"hash":"9b7a3a8d47b522a18f9c479317787d38d4779f75","time":1754382747000,"email":"keeperjerry@yandex.ru","author":"KeeperJerry","message":"init"}]},"filePathRelative":"config/authHandler.md"}');export{g as comp,h as data};
