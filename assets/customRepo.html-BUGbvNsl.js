import{_ as s,c as a,b as n,o as r}from"./app-C0i2AJz9.js";const p={};function t(c,e){return r(),a("div",null,e[0]||(e[0]=[n(`<h1 id="свое-зеркало-лаунчера" tabindex="-1"><a class="header-anchor" href="#свое-зеркало-лаунчера"><span>Свое зеркало лаунчера</span></a></h1><p>Начнем с того, что <em>я очень часто забываю добавить какие-либо дополнительные сборки</em> для лаунчера. Обычно на это нет времени, настроения да и мотивации вовсе (на фоне <code>java 17</code>).</p><p>При этом на официальном сервере есть очень много энтузиастов, которые делают готовые сборки. Остается вопрос: <strong>как сделать свое зеркало таким, чтобы оно могло автомтически качать сборку?</strong></p><p>Выход есть: Для этого была введена система зеркал! Осталось разобраться в его работе...</p><h2 id="основные-требования" tabindex="-1"><a class="header-anchor" href="#основные-требования"><span>Основные требования</span></a></h2><p>Для начала мы определимся, что из себя представляет зеркало.</p><div class="hint-container tip"><p class="hint-container-title">Зеркало - это файловый сервер</p><p>Стоит запомнить, что зеркало - это всего лишь файловый сервер, котоырй хранит у себя только статические файлы. Это значит, что на сервере не должно быть никакого выполняемого кода, по типу <code>PHP</code>.</p></div><p>Из-за того, что на сервере нет никаких вычислительных операции, имеет смысл установить такой Web-сервер, как <code>NGinx</code>.</p><p>Поэтому вы с уверенностью можем сказать, что нам <strong>ТОЧНО</strong> потребуется:</p><ul><li>VDS сервер с <code>NGinx</code> (или <a href="https://ospanel.io/" target="_blank" rel="noopener noreferrer">OpenServer</a> со втроенным <code>NGinx</code> для пользователей <code>Windows</code>)</li><li>Хотя бы 10 Гб свободного места на диске (зависит от сборок, которые вы собираетесь делать)</li></ul><p><em>Конечно можно попробовать что-то из <code>Apache</code>, но есть ли в этом смысл? Мы ведь отдаем только статические данные...</em></p><h2 id="структура-зеркала" tabindex="-1"><a class="header-anchor" href="#структура-зеркала"><span>Структура зеркала</span></a></h2><p>Система зеркал настраивается непосрественно в лаунчере. Но далеко не всем пользователем стало понятно, как происходит его настройка.</p><p>Рассмотрим ее внимательно. Например:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">mirrors: <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;https://mirror.keeperjerry.ru/launcher/v1/&quot;</span> <span class="token operator">&lt;=</span><span class="token operator">=</span> Ссылка на наше зеркало</span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Система зеркал будет обращаться в директории <code>assets</code> и <code>clients</code>. То есть, по ссылкам:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">https://mirror.keeperjerry.ru/launcher/v1/assets/</span>
<span class="line">https://mirror.keeperjerry.ru/launcher/v1/clients/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Так же можно разместить дополнительную директорию <code>servers</code>, чтобы пользователи могли скачать оттуда ваши сборки серверов. В отличии <code>assets</code> и <code>clients</code> папка <code>servers</code> нужна чисто символически для ваших пользователей (по желанию).</p><div class="hint-container tip"><p class="hint-container-title">На ассеты можно забить</p><p>На <code>assets</code> можно не обращать внимание, потому что основные <code>asset</code>&#39;ы уже лежат на моем сайте и по факту почти не меняются.</p></div><p>Структура файлов такова, что любой ресурс (<code>assets</code>/<code>clients</code>) содержится в архиве с расширением <code>.zip</code>. Это не требует ассинхронной скачки и позволяет более быстро скачать необходимый пкает.</p><p>А вот с <code>clients</code> уже немного по сложнее. Здесь нужно настроить свою структуру:</p><ul><li>Во первых, со сборкой версии <code>&lt;version&gt;.zip</code> дожен присутствовать файл <code>&lt;version&gt;.cfg</code> с готовыми настройками для вашей сборки (например, аргументы <code>java</code>, изменненный <code>main-class</code>). Пример:</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token number">1.12</span>.2.zip <span class="token operator">&lt;=</span><span class="token operator">=</span> Архив с клиентом</span>
<span class="line"><span class="token number">1.12</span>.2.cfg <span class="token operator">&lt;=</span><span class="token operator">=</span> Файл с настройками клиента <span class="token punctuation">(</span>profiles<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Во-вторых, можно делать несколько сборок одной версии и с готовым набором модов. Например:</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token number">1.12</span>.2-forge.zip <span class="token operator">&lt;=</span><span class="token operator">=</span> Архив с клиентом</span>
<span class="line"><span class="token number">1.12</span>.2-forge.cfg <span class="token operator">&lt;=</span><span class="token operator">=</span> Файл с настройками клиента <span class="token punctuation">(</span>profiles<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Сборки могут быть с любым названием</p><p>На самом деле, лаунчер воспринимает параметры как аргументы после знака <code>- (тире)</code>. Так что вместо <code>forge</code> можно написать какую угодно сборку. Очень полезно для готовых сборок.</p></div>`,26)]))}const o=s(p,[["render",t]]),l=JSON.parse('{"path":"/faq/customRepo.html","title":"Свое зеркало лаунчера","lang":"ru-RU","frontmatter":{},"git":{"updatedTime":1754382747000,"contributors":[{"name":"KeeperJerry","username":"KeeperJerry","email":"keeperjerry@yandex.ru","commits":1,"url":"https://github.com/KeeperJerry"}],"changelog":[{"hash":"9b7a3a8d47b522a18f9c479317787d38d4779f75","time":1754382747000,"email":"keeperjerry@yandex.ru","author":"KeeperJerry","message":"init"}]},"filePathRelative":"faq/customRepo.md"}');export{o as comp,l as data};
